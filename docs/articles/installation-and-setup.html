<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Installation and Setup • huntfishapp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Installation and Setup">
<meta property="og:description" content="huntfishapp">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">huntfishapp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/custom-analyses-in-r.html">Custom Analyses in R</a>
    </li>
    <li>
      <a href="../articles/installation-and-setup.html">Installation and Setup</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="installation-and-setup_files/header-attrs-2.3/header-attrs.js"></script><script src="installation-and-setup_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Installation and Setup</h1>
                        <h4 class="author">Nathaniel Price</h4>
            
            <h4 class="date">2020-08-25</h4>
      
      
      <div class="hidden name"><code>installation-and-setup.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>The huntfishapp is an R package containing the app and supporting functions. The file structure follows the standard R package structure (<a href="http://r-pkgs.had.co.nz/" class="uri">http://r-pkgs.had.co.nz/</a>). The Shiny application itself is in a subdirectory of the inst folder. This subdirectory will become a top level directory when the package is installed. All supporting functions for the Shiny application are stored in the R directory.</p>
</div>
<div id="local-setup" class="section level2">
<h2 class="hasAnchor">
<a href="#local-setup" class="anchor"></a>Local Setup</h2>
<div id="installation" class="section level3">
<h3 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h3>
<p>The huntfishapp package is currently only available from Github.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># Install development version from GitHub (requires devtools package)</span>
<span class="kw">devtools</span>::<span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"chrischizinski/huntfishapp"</span>)
</pre></div>
</div>
<div id="database-connection" class="section level3">
<h3 class="hasAnchor">
<a href="#database-connection" class="anchor"></a>Database Connection</h3>
<p>The app will attempt to connect to a database management system (DBMS) with the data source name (DSN) “HuntFishApp”. The data source “HuntFishApp” should be configured separately from the installation of the Shiny application. Please refer to the relevant documentation for your operating system for configuring the data source (<a href="https://db.rstudio.com/best-practices/drivers/" class="uri">https://db.rstudio.com/best-practices/drivers/</a>, <a href="https://cran.r-project.org/web/packages/odbc/readme/README.html" class="uri">https://cran.r-project.org/web/packages/odbc/readme/README.html</a>). Note that the data source does not need to include any stored login credentials. The username and password for the database are input by the user when starting the app. To configure the data source you will need to know the IP address or host name of the database. To use the Shiny application you will need to know the username and password with appropriate privleges. Contact the database administrator for assistance.</p>
<p>To test the database connection you can execute the following code:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">conn</span> <span class="op">&lt;-</span> <span class="kw">DBI</span>::<span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span>(<span class="kw">odbc</span>::<span class="fu"><a href="https://rdrr.io/pkg/odbc/man/odbc.html">odbc</a></span>(), 
                       dsn = <span class="st">"HuntFishApp"</span>, 
                       uid = <span class="st">"your username"</span>, 
                       pwd = <span class="st">"your password"</span>)

<span class="kw">dplyr</span>::<span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html">tbl</a></span>(<span class="kw">conn</span>, <span class="st">"huntfishapp"</span>)
</pre></div>
<p>It is recommended that the keyring package is used in order to avoid disclosing the username and password in any R code.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="co"># Database connection</span>
<span class="kw">conn</span> <span class="op">&lt;-</span> <span class="kw">DBI</span>::<span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span>(<span class="kw">odbc</span>::<span class="fu"><a href="https://rdrr.io/pkg/odbc/man/odbc.html">odbc</a></span>(),
                        dsn = <span class="st">"HuntFishApp"</span>, 
                        uid = <span class="kw">keyring</span>::<span class="fu"><a href="https://rdrr.io/pkg/keyring/man/key_get.html">key_get</a></span>(<span class="st">"HuntFishAppUID"</span>), 
                        pwd = <span class="kw">keyring</span>::<span class="fu"><a href="https://rdrr.io/pkg/keyring/man/key_get.html">key_get</a></span>(<span class="st">"HuntFishAppPWD"</span>))
</pre></div>
</div>
<div id="launching-the-app" class="section level3">
<h3 class="hasAnchor">
<a href="#launching-the-app" class="anchor"></a>Launching the app</h3>
<p>Once the huntfishapp package has been installed and the database connection has been configured you can launch the app using the following code:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw">huntfishapp</span>)
<span class="fu"><a href="../reference/launchApp.html">launchApp</a></span>()
</pre></div>
</div>
</div>
<div id="server-setup" class="section level2">
<h2 class="hasAnchor">
<a href="#server-setup" class="anchor"></a>Server Setup</h2>
<p>To setup the app on Shiny Server you will need to install R, the shiny package, and then Shiny Server. Refer to the Shiny Server Administrator’s Guide for installation and setup instructions (<a href="http://docs.rstudio.com/shiny-server/" class="uri">http://docs.rstudio.com/shiny-server/</a>). It is also recommended that a proxy is used so that apps can be served via <a href="https://" class="uri">https://</a> (<a href="https://support.rstudio.com/hc/en-us/articles/213733868-Running-Shiny-Server-with-a-Proxy" class="uri">https://support.rstudio.com/hc/en-us/articles/213733868-Running-Shiny-Server-with-a-Proxy</a>).</p>
<p>The exact setup and installation instructions of the app will depend on how Shiny Server was configured. The huntfishapp package can be installed as described in the Local Setup section of this document. It is important that the package be installed in the library of the “shiny” user. After installing the package and any dependencies it is necessary to set the directory permissions so that the “shiny” user will be able access the packages. It is also necessary to configure the database connection as described in the Local Setup section of this document.</p>
<p>Shiny applications are served from directories within ‘/srv/shiny-server’. Shiny Server expects each directory to contain a ui.R and a server.R file or an app.R file. Since the huntfishapp is installed as a package we need to provide additional code for launching the application. The following code can be saved as an app.R file in a subdirectory of ‘/srv/shiny-server’ to provide a means for Shiny Server to launch the app,</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw">huntfishapp</span>)
<span class="kw">dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">'shiny_app'</span>, package = <span class="st">'huntfishapp'</span>)
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span>(<span class="kw">dir</span>)
<span class="kw">shiny</span>::<span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/shinyApp.html">shinyAppDir</a></span>(<span class="st">'.'</span>)
</pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Christopher Chizinski, Nathaniel Price, Kevin Pope, Joseph (TJ) Fontaine.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
